<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <style type="text/css">
		span{
			border:1px solid red;
			margin:2px 2px;
			display:inline-block;
			background-color: red;
			width: 20px;
			overflow: hidden;
			font-size:0.5em;
			text-align: center;
		}
	</style>
    <title>Document</title>
</head>
<body>
    <input type="text" id="val">
    <button id="left-in">左侧入</button>
    <button id="right-in">右侧入</button>
    <button id="left-out">左侧出</button>
    <button id="right-out">右侧出</button>
    <button id="sort">排序</button>
    <div id="queue">
    </div>
</body>
<script>
    var inputval = document.getElementById('val');
    var leftIn = document.getElementById('left-in');
    var rightIn = document.getElementById('right-in');
    var leftOut = document.getElementById('left-out');
    var rightOut = document.getElementById('right-out');
    var queue = document.getElementById('queue');
    
    leftIn.addEventListener("click",function(){
        var addSpan = document.createElement('span');
        var spanList = document.getElementsByTagName("span");
        var num = spanList.length;
        if(inputval.value<10||inputval.value>100||isNaN(inputval.value)){
            alert("请输入10-100之间的数");
        }else if(num>59){
            alert("队列长度超出预期");

        }else{
            addSpan.style.height = inputval.value  + "px";
            addSpan.innerText = inputval.value;
            queue.insertBefore(addSpan,queue.firstChild);
            inputval.value = "";
        }
    });

    rightIn.addEventListener("click",function(){
        var addSpan = document.createElement("span");
        var spanList = document.getElementsByTagName("span");
        var num = spanList.length;
       if(inputval.value<10||inputval.value>100||isNaN(inputval.value)){
            alert("请输入10-100之间的数");
        }else if(num>59){
            alert("队列长度超出预期");

        }else{
             addSpan.style.height = inputval.value  + "px";
            addSpan.innerText = inputval.value;
            queue.appendChild(addSpan);
             inputval.value = "";
        }
       
    });

    leftOut.addEventListener("click",function(){
        var spanList = document.getElementsByTagName("span");
        alert("删除"+spanList[0].innerText);
        spanList[0].remove();
    });

    rightOut.addEventListener("click",function(){
var spanList = document.getElementsByTagName("span");
        alert("删除"+spanList[spanList.length-1].innerText);
        spanList[spanList.length-1].remove();
    });

    queue.addEventListener("click",function(e){
        if(event.target.nodeName.toLowerCase()=="span"){
            queue.removeChild(event.target);

        }
    })
    sort.addEventListener("click",function(){
        var spanList = document.getElementsByTagName("span");
        var temp = 0;
        for(var i = 0;i<spanList.length-1;i++)
          for(var j = i;j<spanList.length;j++)
           if(spanList[i].style.height<spanList[j].style.height){
               temp = spanList[i].style.height;
               spanList[i].style.height = spanList[j].style.height;
               spanList[i].innerText = spanList[j].style.height;
               spanList[j].style.height = temp;
               spanList[j].innerText = temp;
           }
    });
</script>
</html>